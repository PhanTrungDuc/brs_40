<%= provide :title, t("views.requests.dashboard") %>

<h1><%= t "views.requests.dashboard" %></h1>

<table class="table table-hover">
  <tr>
    <th><%= t "views.requests.id" %></th>
    <th><%= t "views.requests.book_title" %></th>
    <th><%= t "views.requests.book_author" %></th>
    <th><%= t "views.requests.content" %></th>
  </tr>
  <% @requests.each.with_index do |request, index| %>
    <tr>
      <% stt = (params[:page].to_i - 1) * 8 %>
      <% stt = 0 if stt < 0 %>
      <td> <%= stt + index + 1  %> </td>
      <td> <%= request.book_name %> </td>
      <td> <%= request.author %> </td>
      <td> <%= request.content %> </td>
      <td>
        <span>
          <%= link_to t("views.requests.cancel_button"), request_path(request),
            method: :delete, data: {confirm: t("views.requests.deleteconfirm")},
            class:"btn btn-danger" %>
        </span>
      </td>
    </tr>
  <% end %>
</table>
<div>
  <%= link_to t("views.requests.new_button"), new_request_path,
    class: "btn btn-info" %>
</div>
<%= will_paginate @requests %>
